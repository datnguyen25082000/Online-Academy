{{#section 'css'}}

{{/section}}

{{#section 'js'}}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/star-rating-svg@3.5.0/src/jquery.star-rating-svg.min.js"></script>
<link rel="stylesheet" type="text/css"
  href="https://cdn.jsdelivr.net/npm/star-rating-svg@3.5.0/src/css/star-rating-svg.min.css">

<script>
  $(".my-rating").starRating({
    readOnly: true,
    strokeColor: '#EB8A2F',
    strokeWidth: 10,
    totalStars: 5,
    starSize: 18
  });
</script>

<script>
  $(".formSubmit").on('submit', function (event) {
    event.preventDefault();
    var form = $(this);
    var url = form.attr('action');
    $.ajax({
      type: "POST",
      url: url,
      data: form.serialize(),
      success: function (data) {
         location.reload();
      }
    })
  })
</script>

{{/section}}


<div>

  <div class="d-flex bg-image" style="height: 90vh" id='intro-landing'>
    <div class="row d-flex justify-content-center align-self-lg-center text-lg-left text-md-center pt-5 bg-text">
      <div class='col-lg-5 justify-content-center align-self-lg-center'>
        <h1 class="display-4">Welcome to <span class="text-danger">Online</span>
          <span class='font-italic'
            style='color:rgb(123, 234, 253); text-shadow: 1px 1px 2px black, 0 0 25px blue, 0 0 5px darkblue;'>Academy
          </span>
        </h1>
        <p class="lead">This is the most reputable and quality online learning system in HCMUS for programming
          courses.
        </p>
        <hr class="my-4">
        <p class="lead">
          <button class="btn btn-primary btn-lg" onclick="goToByScroll('list-0')">GET STARTED</button>
        </p>
      </div>
      <div class="col-lg-5">
        <img src="/public/svg/undraw_education_f8ru.svg" style=alt="">
        {{!-- <div id="carouselExampleIndicators1" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators1" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators1" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators1" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100" src="../public/images/10-Best-Online-Web-Development-Courses-Free-and-Paid.jpg"
                alt="First slide">
            </div>
            <div class="carousel-item ">
              <img class="d-block w-100" src="../public/images/download (1).jpg" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="../public/images/download.jpg" alt="Third slide">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div> --}}
      </div>
    </div>
  </div>

  {{!-- LIST BEST SELLER --}}
  <div id="list-0"></div>
  <div class="list-1 mt-5 container w-100" style="padding-top: 100px!important" id='list-1'>
    <h1 class="" style="">
      <span class='font-italic'
        style='color:rgb(123, 234, 253); text-shadow: 1px 1px 2px black, 0 0 25px blue, 0 0 5px darkblue;'>BEST
        SELLER</span>
      <hr>
    </h1>
    <div class="row">
      {{#each this.topTrending}}

      <div class="col-md-3 mb-5">
        <div class="card h-100 shadow d-flex m-auto" style="max-width: 250px">
          <img src="{{thumbImage courseImage}}" alt="{{courseName}}" title="{{courseName}}">
          <div class="p-2 d-flex flex-column flex-grow-1">
            <h5 class="font-weight-bold">{{courseName}}</h5>
            <span class="mb-2">
              {{{courseDes}}}
            </span>
            <div class="mt-auto">
              <span class="card-text">Giá: <span class="text-danger font-weight-bold">{{#if (isZero coursePrice)}}Miễn
                  Phí {{else}}{{coursePrice}}{{/if}}</span>
              </span>
              <span class="card-text d-block">Số lượng học viên: {{courseRegistered}}</span>
            </div>
          </div>
          <div class="d-flex">
            <div class="my-rating pl-2 pb-2 " data-rating="{{coursePointEval}}"></div>
            <div class=" mt-1 text-danger ml-2 font-weight-bold">{{coursePointEval}}</div>
          </div>

          <div class="card-footer d-flex justify-content-around" style="padding:1rem!important">
            <a class="btn btn-sm btn-outline-primary py-2 w-35" href="/courses/{{courseID}}" role="button">
              <i class="fa fa-eye" aria-hidden="true"></i>
              Details
            </a>
            {{#if (isUser ../user.userType)}}
              {{#if isFavorite}}
              <form action="/users/removeFavorite" class="formSubmit" method="POST">
                <input type="text" value="{{courseID}}" name="courseID" class="d-none">
                <button type="submit" class="btn btn-sm py-2 btn-success" title="Xóa khỏi danh sách khóa học yêu thích">
                  <i class="fa fa-heart" aria-hidden="true"></i>
                </button>
              </form>
              {{else}}
              <form action="/users/addFavorite" method="POST" class="formSubmit">
                <input type="text" value="{{courseID}}" name="courseID" class="d-none">
                <button type="submit" class="btn btn-sm py-2 btn-outline-success" title="Thêm vào danh sách khóa học yêu thích">
                  <i class="fa fa-heart" aria-hidden="true"></i>
                </button>
              </form>
              {{/if}}
            {{/if}}
          </div>
        </div>
      </div>

      {{/each}}
    </div>
  </div>

  {{!-- SLIDE SHOW ENROL --}}

  {{> slideshow parameter=this.topTrending}}
  {{> slideshow parameter=this.topTrending}}
  {{!-- SLIDE SHOW NEW --}}
  {{!-- SLIDE SHOW SEEN --}}

  {{> footer}}


</div>